(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15005,46018,52626,16203,16763,97556,t=>{"use strict";let e;t.s(["AlphaMask",()=>d],15005);var r=t.i(47760),i=t.i(40069),s=t.i(69553),a=t.i(32677);let n=new s.Bounds;function l(t,e,r){t.measurable=!0,(0,a.getGlobalBounds)(t,r,n),e.addBoundsMask(n),t.measurable=!1}var o=t.i(92405),h=t.i(15111),u=t.i(85830);function c(t,e,r){let i=h.boundsPool.get();t.measurable=!0;let s=h.matrixPool.get().identity(),a=function t(e,r,i){return e?e!==r&&(t(e.parent,r,i),e.updateLocalTransform(),i.append(e.localTransform)):(0,u.warn)("Mask bounds, renderable is not inside the root container"),i}(t,r,s);(0,o.getLocalBounds)(t,i,a),t.measurable=!1,e.addBoundsMask(i),h.matrixPool.return(s),h.boundsPool.return(i)}class d{init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof i.Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){this.inverse||l(this.mask,t,e)}addLocalBounds(t,e){c(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof i.Sprite}constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",(null==t?void 0:t.mask)&&this.init(t.mask)}}d.extension=r.ExtensionType.MaskEffect,t.s(["ColorMask",()=>f],46018);class f{init(t){this.mask=t}destroy(){}static test(t){return"number"==typeof t}constructor(t){this.priority=0,this.pipe="colorMask",(null==t?void 0:t.mask)&&this.init(t.mask)}}f.extension=r.ExtensionType.MaskEffect,t.s(["StencilMask",()=>y],52626);var p=t.i(50147);class y{init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){l(this.mask,t,e)}addLocalBounds(t,e){c(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof p.Container}constructor(t){this.priority=0,this.pipe="stencilMask",(null==t?void 0:t.mask)&&this.init(t.mask)}}y.extension=r.ExtensionType.MaskEffect,t.s(["ImageSource",()=>g],16203);var x=t.i(95627);class g extends x.TextureSource{static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}}g.extension=r.ExtensionType.TextureSource,t.s(["VideoSource",()=>P],97556);var _=t.i(6972);t.s(["detectVideoAlphaMode",()=>v],16763);var m=t.i(27402);async function v(){return null!=e||(e=(async()=>{var t;let e=m.DOMAdapter.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";let r=await new Promise(t=>{let e=document.createElement("video");e.onloadeddata=()=>t(e),e.onerror=()=>t(null),e.autoplay=!1,e.crossOrigin="anonymous",e.preload="auto",e.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",e.load()});if(!r)return"premultiply-alpha-on-upload";let i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i);let s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);let a=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(s),e.deleteTexture(i),null==(t=e.getExtension("WEBGL_lose_context"))||t.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),e}var b=x;let A=class t extends b.TextureSource{updateFrame(){if(!this.destroyed){if(this._updateFPS){let t=_.Ticker.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;let t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await v(),this._load=new Promise((r,i)=>{this.isValid?r(this):(this._resolve=r,this._reject=i,void 0!==e.preloadTimeoutMs&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent("Preload exceeded timeout of ".concat(e.preloadTimeoutMs,"ms")))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){let t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){let t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();let t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(_.Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(_.Ticker.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(_.Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}constructor(e){var r;super(e),this.isReady=!1,this.uploadMethodId="video",e={...t.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==e.autoPlay,this.alphaMode=null!=(r=e.alphaMode)?r:"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==e.autoLoad&&this.load()}};A.extension=r.ExtensionType.TextureSource,A.defaultOptions={...b.TextureSource.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1},A.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let P=A},89698,t=>{"use strict";t.s(["convertToList",()=>e]);let e=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(Array.isArray(t)||(t=[t]),e)?t.map(t=>"string"==typeof t||r?e(t):t):t}},10463,92206,58035,t=>{"use strict";t.s([],10463);var e=t.i(47760),r=t.i(15005),i=t.i(46018),s=t.i(52626),a=t.i(75324),n=t.i(70220),l=t.i(16203),o=t.i(97556);t.s([],58035),t.s(["Cache",()=>c],92206);var h=t.i(85830),u=t.i(89698);let c=new class{reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){let e=this._cache.get(t);return e||(0,h.warn)("[Assets] Asset id ".concat(t," was not found in the Cache")),e}set(t,e){let r,i=(0,u.convertToList)(t);for(let t=0;t<this.parsers.length;t++){let s=this.parsers[t];if(s.test(e)){r=s.getCacheableAssets(i,e);break}}let s=new Map(Object.entries(r||{}));r||i.forEach(t=>{s.set(t,e)});let a=[...s.keys()],n={cacheKeys:a,keys:i};i.forEach(t=>{this._cacheMap.set(t,n)}),a.forEach(t=>{let i=r?r[t]:e;this._cache.has(t)&&this._cache.get(t)!==i&&(0,h.warn)("[Cache] already has key:",t),this._cache.set(t,s.get(t))})}remove(t){if(!this._cacheMap.has(t))return void(0,h.warn)("[Assets] Asset id ".concat(t," was not found in the Cache"));let e=this._cacheMap.get(t);e.cacheKeys.forEach(t=>{this._cache.delete(t)}),e.keys.forEach(t=>{this._cacheMap.delete(t)})}get parsers(){return this._parsers}constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}};var d=t.i(95627),f=t.i(31320);let p=[];function y(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t&&t.resource,r=e?t.resource:t,i=e?t:{resource:t};for(let t=0;t<p.length;t++){let e=p[t];if(e.test(r))return new e(i)}throw Error("Could not find a source type for resource: ".concat(i.resource))}e.extensions.handleByList(e.ExtensionType.TextureSource,p),f.Texture.from=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof t?c.get(t):t instanceof d.TextureSource?new f.Texture({source:t}):function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t&&t.resource,i=r?t.resource:t,s=r?t:{resource:t};if(!e&&c.has(i))return c.get(i);let a=new f.Texture({source:y(s)});return a.on("destroy",()=>{c.has(i)&&c.remove(i)}),e||c.set(i,a),a}(t,e)},d.TextureSource.from=y,e.extensions.add(r.AlphaMask,i.ColorMask,s.StencilMask,o.VideoSource,l.ImageSource,n.CanvasSource,a.BufferImageSource)},81324,30774,t=>{"use strict";t.s(["LoaderParserPriority",()=>e],81324);var e=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(e||{});t.s(["path",()=>a],30774);var r=t.i(27402);function i(t){if("string"!=typeof t)throw TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function s(t){return t.split("?")[0].split("#")[0]}let a={toPosix:t=>{var e,r;return e=0,r=0,t.replace(RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:t=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t),isBlobUrl:t=>t.startsWith("blob:"),hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){i(t),t=this.toPosix(t);let e=/^file:\/\/\//.exec(t);if(e)return e[0];let r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,n){if(i(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;let l=s(this.toPosix(null!=e?e:r.DOMAdapter.get().getBaseUrl())),o=s(this.toPosix(null!=n?n:this.rootname(l)));return(t=this.toPosix(t)).startsWith("/")?a.join(o,t.slice(1)):this.isAbsolute(t)?t:this.join(l,t)},normalize(t){if(i(t),0===t.length)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="",r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));let s=t.endsWith("/");return((t=function(t,e){let r="",i=0,s=-1,a=0,n=-1;for(let l=0;l<=t.length;++l){if(l<t.length)n=t.charCodeAt(l);else if(47===n)break;else n=47;if(47===n){if(s===l-1||1===a);else if(s!==l-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){let t=r.lastIndexOf("/");if(t!==r.length-1){-1===t?(r="",i=0):i=(r=r.slice(0,t)).length-1-r.lastIndexOf("/"),s=l,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,s=l,a=0;continue}}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/".concat(t.slice(s+1,l)):r=t.slice(s+1,l),i=l-s-1;s=l,a=0}else 46===n&&-1!==a?++a:a=-1}return r}(t,!1)).length>0&&s&&(t+="/"),r)?"/".concat(t):e+t},isAbsolute(t){return i(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join(){let t;for(var e,r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];if(0===s.length)return".";for(let r=0;r<s.length;++r){let a=s[r];if(i(a),a.length>0)if(void 0===t)t=a;else{let i=null!=(e=s[r-1])?e:"";this.joinExtensions.includes(this.extname(i).toLowerCase())?t+="/../".concat(a):t+="/".concat(a)}}return void 0===t?".":this.normalize(t)},dirname(t){if(i(t),0===t.length)return".";let e=(t=this.toPosix(t)).charCodeAt(0),r=47===e,s=-1,a=!0,n=this.getProtocol(t),l=t;t=t.slice(n.length);for(let r=t.length-1;r>=1;--r)if(47===(e=t.charCodeAt(r))){if(!a){s=r;break}}else a=!1;return -1===s?r?"/":this.isUrl(l)?n+t:n:r&&1===s?"//":n+t.slice(0,s)},rootname(t){i(t);let e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){let r=t.indexOf("/",e.length);(e=-1!==r?t.slice(0,r):t).endsWith("/")||(e+="/")}return e},basename(t,e){let r;i(t),e&&i(e),t=s(this.toPosix(t));let a=0,n=-1,l=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let i=e.length-1,s=-1;for(r=t.length-1;r>=0;--r){let o=t.charCodeAt(r);if(47===o){if(!l){a=r+1;break}}else -1===s&&(l=!1,s=r+1),i>=0&&(o===e.charCodeAt(i)?-1==--i&&(n=r):(i=-1,n=s))}return a===n?n=s:-1===n&&(n=t.length),t.slice(a,n)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!l){a=r+1;break}}else -1===n&&(l=!1,n=r+1);return -1===n?"":t.slice(a,n)},extname(t){i(t),t=s(this.toPosix(t));let e=-1,r=0,a=-1,n=!0,l=0;for(let i=t.length-1;i>=0;--i){let s=t.charCodeAt(i);if(47===s){if(!n){r=i+1;break}continue}-1===a&&(n=!1,a=i+1),46===s?-1===e?e=i:1!==l&&(l=1):-1!==e&&(l=-1)}return -1===e||-1===a||0===l||1===l&&e===a-1&&e===r+1?"":t.slice(e,a)},parse(t){let e;i(t);let r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;let a=(t=s(this.toPosix(t))).charCodeAt(0),n=this.isAbsolute(t);r.root=this.rootname(t),e=n||this.hasProtocol(t)?1:0;let l=-1,o=0,h=-1,u=!0,c=t.length-1,d=0;for(;c>=e;--c){if(47===(a=t.charCodeAt(c))){if(!u){o=c+1;break}continue}-1===h&&(u=!1,h=c+1),46===a?-1===l?l=c:1!==d&&(d=1):-1!==l&&(d=-1)}return -1===l||-1===h||0===d||1===d&&l===h-1&&l===o+1?-1!==h&&(0===o&&n?r.base=r.name=t.slice(1,h):r.base=r.name=t.slice(o,h)):(0===o&&n?(r.name=t.slice(1,l),r.base=t.slice(1,h)):(r.name=t.slice(o,l),r.base=t.slice(o,h)),r.ext=t.slice(l,h)),r.dir=this.dirname(t),r},sep:"/",delimiter:":",joinExtensions:[".html"]}},99650,24103,39260,72116,t=>{"use strict";t.s([],99650);var e=t.i(47760),r=t.i(81324);t.s(["Resolver",()=>l],39260);var i=t.i(85830),s=t.i(30774),a=t.i(89698);t.s(["isSingleItem",()=>n],24103);let n=t=>!Array.isArray(t);class l{setBundleIdentifier(t){var e,r,i;if(this._bundleIdConnector=null!=(e=t.connector)?e:this._bundleIdConnector,this._createBundleAssetId=null!=(r=t.createBundleAssetId)?r:this._createBundleAssetId,this._extractAssetIdFromBundle=null!=(i=t.extractAssetIdFromBundle)?i:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){"string"==typeof t?this._defaultSearchParams=t:this._defaultSearchParams=Object.keys(t).map(e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))).join("&")}getAlias(t){let{alias:e,src:r}=t;return(0,a.convertToList)(e||r,t=>"string"==typeof t?t:Array.isArray(t)?t.map(t=>{var e;return null!=(e=null==t?void 0:t.src)?e:t}):(null==t?void 0:t.src)?t.src:t,!0)}addManifest(t){this._manifest&&(0,i.warn)("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(t,e){let r=[],i=e;Array.isArray(e)||(i=Object.entries(e).map(t=>{let[e,r]=t;return"string"==typeof r||Array.isArray(r)?{alias:e,src:r}:{alias:e,...r}})),i.forEach(e=>{let i,s=e.src,a=e.alias;if("string"==typeof a){let e=this._createBundleAssetId(t,a);r.push(e),i=[a,e]}else{let e=a.map(e=>this._createBundleAssetId(t,e));r.push(...e),i=[...a,...e]}this.add({...e,alias:i,src:s})}),this._bundles[t]=r}add(t){let e,r=[];Array.isArray(t)?r.push(...t):r.push(t),e=t=>{this.hasKey(t)&&(0,i.warn)("[Resolver] already has key: ".concat(t," overwriting"))},(0,a.convertToList)(r).forEach(t=>{let{src:r}=t,{data:i,format:s,loadParser:n,parser:l}=t,o=(0,a.convertToList)(r).map(t=>{if("string"==typeof t){let e=t.match(/\{(.*?)\}/g),r=[];if(e){let i=[];e.forEach(t=>{let e=t.substring(1,t.length-1).split(",");i.push(e)}),function t(e,r,i,s,a){let n=r[i];for(let l=0;l<n.length;l++){let o=n[l];i<r.length-1?t(e.replace(s[i],o),r,i+1,s,a):a.push(e.replace(s[i],o))}}(t,i,0,e,r)}else r.push(t);return r}return Array.isArray(t)?t:[t]}),h=this.getAlias(t);Array.isArray(h)?h.forEach(e):e(h);let u=[];o.forEach(t=>{t.forEach(t=>{let e={};if("object"!=typeof t){e.src=t;for(let r=0;r<this._parsers.length;r++){let i=this._parsers[r];if(i.test(t)){e=i.parse(t);break}}}else{var r,a,o,c;i=null!=(r=t.data)?r:i,s=null!=(a=t.format)?a:s,(t.loadParser||t.parser)&&(n=null!=(o=t.loadParser)?o:n,l=null!=(c=t.parser)?c:l),e={...e,...t}}if(!h)throw Error("[Resolver] alias is undefined for this asset: ".concat(e.src));e=this._buildResolvedAsset(e,{aliases:h,data:i,format:s,loadParser:n,parser:l}),u.push(e)})}),h.forEach(t=>{this._assetMap[t]=u})})}resolveBundle(t){let e=n(t);t=(0,a.convertToList)(t);let r={};return t.forEach(t=>{let e=this._bundles[t];if(e){let i=this.resolve(e),s={};for(let e in i){let r=i[e];s[this._extractAssetIdFromBundle(t,e)]=r}r[t]=s}}),e?r[t[0]]:r}resolveUrl(t){let e=this.resolve(t);if("string"!=typeof t){let t={};for(let r in e)t[r]=e[r].src;return t}return e.src}resolve(t){let e=n(t);t=(0,a.convertToList)(t);let r={};return t.forEach(t=>{if(!this._resolverHash[t])if(this._assetMap[t]){let e=this._assetMap[t],r=this._getPreferredOrder(e);null==r||r.priority.forEach(t=>{r.params[t].forEach(r=>{let i=e.filter(e=>!!e[t]&&e[t]===r);i.length&&(e=i)})}),this._resolverHash[t]=e[0]}else this._resolverHash[t]=this._buildResolvedAsset({alias:[t],src:t},{});r[t]=this._resolverHash[t]}),e?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){let r=t[e],i=this._preferredOrder.find(t=>t.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;let e=/\?/.test(t)?"&":"?";return"".concat(t).concat(e).concat(this._defaultSearchParams)}_buildResolvedAsset(t,e){var r,i;let{aliases:a,data:n,loadParser:l,parser:o,format:h}=e;return(this._basePath||this._rootPath)&&(t.src=s.path.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=null!=(r=null!=a?a:t.alias)?r:[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...n||{},...t.data},t.loadParser=null!=l?l:t.loadParser,t.parser=null!=o?o:t.parser,t.format=null!=(i=null!=h?h:t.format)?i:t.src.split(".").pop().split("?").shift().split("#").shift(),t}constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>"".concat(t).concat(this._bundleIdConnector).concat(e),extractAssetIdFromBundle:(t,e)=>e.replace("".concat(t).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}}l.RETINA_PREFIX=/@([0-9\.]+)x/,t.s(["copySearchParams",()=>o],72116);let o=(t,e)=>{let r=e.split("?")[1];return r&&(t+="?".concat(r)),t};var h=t.i(31320),u=t.i(63646),c=t.i(95627);let d=class t{parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e,i=t.BATCH_SIZE;for(;r-e<i&&r<this._frameKeys.length;){let t=this._frameKeys[r],e=this._frames[t],i=e.frame;if(i){let r=null,s=null,a=!1!==e.trimmed&&e.sourceSize?e.sourceSize:e.frame,n=new u.Rectangle(0,0,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution);r=e.rotated?new u.Rectangle(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.h)/this.resolution,Math.floor(i.w)/this.resolution):new u.Rectangle(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution),!1!==e.trimmed&&e.spriteSourceSize&&(s=new u.Rectangle(Math.floor(e.spriteSourceSize.x)/this.resolution,Math.floor(e.spriteSourceSize.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution)),this.textures[t]=new h.Texture({source:this.textureSource,frame:r,orig:n,trim:s,rotate:2*!!e.rotated,defaultAnchor:e.anchor,defaultBorders:e.borders,label:t.toString()})}r++}}_processAnimations(){let t=this.data.animations||{};for(let e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){let i=t[e][r];this.animations[e].push(this.textures[i])}}}_parseComplete(){let t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*t.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(let t in this.textures)this.textures[t].destroy();if(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t){var e;null==(e=this._texture)||e.destroy(),this.textureSource.destroy()}this._texture=null,this.textureSource=null,this.linkedSheets=[]}constructor(t,e){this.linkedSheets=[];let r=t;(null==t?void 0:t.source)instanceof c.TextureSource&&(r={texture:t,data:e});let{texture:i,data:s,cachePrefix:a=""}=r;this.cachePrefix=a,this._texture=i instanceof h.Texture?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=s;let n=parseFloat(s.meta.scale);n?(this.resolution=n,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}};d.BATCH_SIZE=1e3;let f=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"],p={extension:e.ExtensionType.Asset,cache:{test:t=>t instanceof d,getCacheableAssets:(t,e)=>(function t(e,r,i){let a={};if(e.forEach(t=>{a[t]=r}),Object.keys(r.textures).forEach(t=>{a["".concat(r.cachePrefix).concat(t)]=r.textures[t]}),!i){let i=s.path.dirname(e[0]);r.linkedSheets.forEach((e,s)=>{Object.assign(a,t(["".concat(i,"/").concat(r.data.meta.related_multi_packs[s])],e,!0))})}return a})(t,e,!1)},resolver:{extension:{type:e.ExtensionType.ResolveParser,name:"resolveSpritesheet"},test:t=>{let e=t.split("?")[0].split("."),r=e.pop(),i=e.pop();return"json"===r&&f.includes(i)},parse:t=>{var e,r;let i=t.split(".");return{resolution:parseFloat(null!=(r=null==(e=l.RETINA_PREFIX.exec(t))?void 0:e[1])?r:"1"),format:i[i.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:e.ExtensionType.LoadParser,priority:r.LoaderParserPriority.Normal,name:"spritesheetLoader"},testParse:async(t,e)=>".json"===s.path.extname(e.src).toLowerCase()&&!!t.frames,async parse(t,e,r){var i,a,n;let l,{texture:u,imageFilename:c,textureOptions:f,cachePrefix:p}=null!=(a=null==e?void 0:e.data)?a:{},y=s.path.dirname(e.src);if(y&&y.lastIndexOf("/")!==y.length-1&&(y+="/"),u instanceof h.Texture)l=u;else{let i=o(y+(null!=c?c:t.meta.image),e.src);l=(await r.load([{src:i,data:f}]))[i]}let x=new d({texture:l.source,data:t,cachePrefix:p});await x.parse();let g=null==t||null==(i=t.meta)?void 0:i.related_multi_packs;if(Array.isArray(g)){let t=[];for(let i of g){if("string"!=typeof i)continue;let s=y+i;null!=(n=e.data)&&n.ignoreMultiPack||(s=o(s,e.src),t.push(r.load({src:s,data:{textureOptions:f,ignoreMultiPack:!0}})))}let i=await Promise.all(t);x.linkedSheets=i,i.forEach(t=>{t.linkedSheets=[x].concat(x.linkedSheets.filter(e=>e!==t))})}return x},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};e.extensions.add(p)},81541,t=>{"use strict";t.s(["FillGradient",()=>c]);var e=t.i(57471),r=t.i(27402),i=t.i(28959),s=t.i(16203),a=t.i(31320),n=t.i(24314),l=t.i(49864),o=t.i(40373);let h=[{offset:0,color:"white"},{offset:1,color:"black"}],u=class t{addColorStop(t,r){return this.colorStops.push({offset:t,color:e.Color.shared.setValue(r).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:e}=this.start,{x:r,y:n}=this.end,l=r-t,o=n-e,u=l<0||o<0;if("clamp-to-edge"===this._wrapMode){if(l<0){let e=t;t=r,r=e,l*=-1}if(o<0){let t=e;e=n,n=t,o*=-1}}let c=this.colorStops.length?this.colorStops:h,p=this._textureSize,{canvas:y,context:x}=f(p,1),g=u?x.createLinearGradient(this._textureSize,0,0,0):x.createLinearGradient(0,0,this._textureSize,0);d(g,c),x.fillStyle=g,x.fillRect(0,0,p,1),this.texture=new a.Texture({source:new s.ImageSource({resource:y,addressMode:this._wrapMode})});let _=Math.sqrt(l*l+o*o),m=Math.atan2(o,l),v=new i.Matrix;v.scale(_/p,1),v.rotate(m),v.translate(t,e),"local"===this.textureSpace&&v.scale(p,p),this.transform=v}buildGradient(){"linear"===this.type?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;let t=this.colorStops.length?this.colorStops:h,e=this._textureSize,{canvas:r,context:n}=f(e,e),{x:l,y:o}=this.center,{x:u,y:c}=this.outerCenter,p=this.innerRadius,y=this.outerRadius,x=u-y,g=c-y,_=e/(2*y),m=(l-x)*_,v=(o-g)*_,b=n.createRadialGradient(m,v,p*_,(u-x)*_,(c-g)*_,y*_);d(b,t),n.fillStyle=t[t.length-1].color,n.fillRect(0,0,e,e),n.fillStyle=b,n.translate(m,v),n.rotate(this.rotation),n.scale(1,this.scale),n.translate(-m,-v),n.fillRect(0,0,e,e),this.texture=new a.Texture({source:new s.ImageSource({resource:r,addressMode:this._wrapMode})});let A=new i.Matrix;A.scale(1/_,1/_),A.translate(x,g),"local"===this.textureSpace&&A.scale(e,e),this.transform=A}get styleKey(){return this.uid}destroy(){var t;null==(t=this.texture)||t.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}constructor(...e){this.uid=(0,n.uid)("fillGradient"),this.type="linear",this.colorStops=[];let r=function(t){var e,r;let i=null!=(e=t[0])?e:{};return("number"==typeof i||t[1])&&((0,l.deprecation)("8.5.2","use options object instead"),i={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:null!=(r=t[5])?r:c.defaultLinearOptions.textureSize}),i}(e);if(r={..."radial"===r.type?t.defaultRadialOptions:t.defaultLinearOptions,...(0,o.definedProps)(r)},this._textureSize=r.textureSize,this._wrapMode=r.wrapMode,"radial"===r.type){var i;this.center=r.center,this.outerCenter=null!=(i=r.outerCenter)?i:this.center,this.innerRadius=r.innerRadius,this.outerRadius=r.outerRadius,this.scale=r.scale,this.rotation=r.rotation}else this.start=r.start,this.end=r.end;this.textureSpace=r.textureSpace,this.type=r.type,r.colorStops.forEach(t=>{this.addColorStop(t.offset,t.color)})}};u.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"},u.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let c=u;function d(t,e){for(let r=0;r<e.length;r++){let i=e[r];t.addColorStop(i.offset,i.color)}}function f(t,e){let i=r.DOMAdapter.get().createCanvas(t,e),s=i.getContext("2d");return{canvas:i,context:s}}},37836,t=>{"use strict";t.s(["FillPattern",()=>s]);var e=t.i(28959),r=t.i(24314);let i={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class s{setTransform(t){let e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._styleKey=null}get styleKey(){return this._styleKey||(this._styleKey="fill-pattern-".concat(this.uid,"-").concat(this.texture.uid,"-").concat(this.transform.toArray().join("-"))),this._styleKey}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}constructor(t,s){this.uid=(0,r.uid)("fillPattern"),this.transform=new e.Matrix,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),s&&(t.source.style.addressModeU=i[s].addressModeU,t.source.style.addressModeV=i[s].addressModeV)}}},3936,(t,e,r)=>{e.exports=function(t){var e=[];return t.replace(s,function(t,r,s){var n,l=r.toLowerCase();for(s=(n=s.match(a))?n.map(Number):[],"m"==l&&s.length>2&&(e.push([r].concat(s.splice(0,2))),l="l",r="m"==r?"l":"L");;){if(s.length==i[l])return s.unshift(r),e.push(s);if(s.length<i[l])throw Error("malformed path data");e.push([r].concat(s.splice(0,i[l])))}}),e};var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=/([astvzqmhlc])([^astvzqmhlc]*)/ig,a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig},65767,19258,6290,60295,84332,t=>{"use strict";let e,r;t.s(["parseSVGPath",()=>a],65767);var i=t.i(3936),s=t.i(85830);function a(t,e){let r=(0,i.default)(t),a=[],n=null,l=0,o=0;for(let t=0;t<r.length;t++){let i=r[t],h=i[0];switch(h){case"M":l=i[1],o=i[2],e.moveTo(l,o);break;case"m":l+=i[1],o+=i[2],e.moveTo(l,o);break;case"H":l=i[1],e.lineTo(l,o);break;case"h":l+=i[1],e.lineTo(l,o);break;case"V":o=i[1],e.lineTo(l,o);break;case"v":o+=i[1],e.lineTo(l,o);break;case"L":l=i[1],o=i[2],e.lineTo(l,o);break;case"l":l+=i[1],o+=i[2],e.lineTo(l,o);break;case"C":l=i[5],o=i[6],e.bezierCurveTo(i[1],i[2],i[3],i[4],l,o);break;case"c":e.bezierCurveTo(l+i[1],o+i[2],l+i[3],o+i[4],l+i[5],o+i[6]),l+=i[5],o+=i[6];break;case"S":l=i[3],o=i[4],e.bezierCurveToShort(i[1],i[2],l,o);break;case"s":e.bezierCurveToShort(l+i[1],o+i[2],l+i[3],o+i[4]),l+=i[3],o+=i[4];break;case"Q":l=i[3],o=i[4],e.quadraticCurveTo(i[1],i[2],l,o);break;case"q":e.quadraticCurveTo(l+i[1],o+i[2],l+i[3],o+i[4]),l+=i[3],o+=i[4];break;case"T":l=i[1],o=i[2],e.quadraticCurveToShort(l,o);break;case"t":l+=i[1],o+=i[2],e.quadraticCurveToShort(l,o);break;case"A":l=i[6],o=i[7],e.arcToSvg(i[1],i[2],i[3],i[4],i[5],l,o);break;case"a":l+=i[6],o+=i[7],e.arcToSvg(i[1],i[2],i[3],i[4],i[5],l,o);break;case"Z":case"z":e.closePath(),a.length>0&&((n=a.pop())?(l=n.startX,o=n.startY):(l=0,o=0)),n=null;break;default:(0,s.warn)("Unknown SVG path command: ".concat(h))}"Z"!==h&&"z"!==h&&null===n&&(n={startX:l,startY:o},a.push(n))}return e}t.s(["Circle",()=>l],19258);var n=t.i(63646);class l{clone(){return new l(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;let r=this.radius*this.radius,i=this.x-t,s=this.y-e;return i*=i,s*=s,i+s<=r}strokeContains(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(0===this.radius)return!1;let s=this.x-t,a=this.y-e,n=this.radius,l=(1-i)*r,o=Math.sqrt(s*s+a*a);return o<=n+l&&o>n-(r-l)}getBounds(t){return t||(t=new n.Rectangle),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=2*this.radius,t.height=2*this.radius,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return"[pixi.js/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")}constructor(t=0,e=0,r=0){this.type="circle",this.x=t,this.y=e,this.radius=r}}t.s(["Ellipse",()=>o],6290);class o{clone(){return new o(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,i=(e-this.y)/this.halfHeight;return r*=r,i*=i,r+i<=1}strokeContains(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,{halfWidth:s,halfHeight:a}=this;if(s<=0||a<=0)return!1;let n=r*(1-i),l=r-n,o=s-l,h=a-l,u=s+n,c=a+n,d=t-this.x,f=e-this.y;return d*d/(o*o)+f*f/(h*h)>1&&d*d/(u*u)+f*f/(c*c)<=1}getBounds(t){return t||(t=new n.Rectangle),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=2*this.halfWidth,t.height=2*this.halfHeight,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return"[pixi.js/math:Ellipse x=".concat(this.x," y=").concat(this.y," halfWidth=").concat(this.halfWidth," halfHeight=").concat(this.halfHeight,"]")}constructor(t=0,e=0,r=0,i=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=r,this.halfHeight=i}}t.s(["Polygon",()=>u],60295);var h=t.i(49864);class u{isClockwise(){let t=0,e=this.points,r=e.length;for(let i=0;i<r;i+=2){let s=e[i],a=e[i+1];t+=(e[(i+2)%r]-s)*(e[(i+3)%r]+a)}return t<0}containsPolygon(t){let i=this.getBounds(e),s=t.getBounds(r);if(!i.containsRect(s))return!1;let a=t.points;for(let t=0;t<a.length;t+=2){let e=a[t],r=a[t+1];if(!this.contains(e,r))return!1}return!0}clone(){let t=new u(this.points.slice());return t.closePath=this.closePath,t}contains(t,e){let r=!1,i=this.points.length/2;for(let s=0,a=i-1;s<i;a=s++){let i=this.points[2*s],n=this.points[2*s+1],l=this.points[2*a],o=this.points[2*a+1];n>e!=o>e&&t<(e-n)/(o-n)*(l-i)+i&&(r=!r)}return r}strokeContains(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=r*r,a=s*(1-i),n=s-a,{points:l}=this,o=l.length-2*!this.closePath;for(let r=0;r<o;r+=2){let i=l[r],s=l[r+1],o=l[(r+2)%l.length],h=l[(r+3)%l.length];if(function(t,e,r,i,s,a){let n,l,o=s-r,h=a-i,u=o*o+h*h,c=-1;0!==u&&(c=((t-r)*o+(e-i)*h)/u),c<0?(n=r,l=i):c>1?(n=s,l=a):(n=r+c*o,l=i+c*h);let d=t-n,f=e-l;return d*d+f*f}(t,e,i,s,o,h)<=(0>Math.sign((o-i)*(e-s)-(h-s)*(t-i))?n:a))return!0}return!1}getBounds(t){t||(t=new n.Rectangle);let e=this.points,r=1/0,i=-1/0,s=1/0,a=-1/0;for(let t=0,n=e.length;t<n;t+=2){let n=e[t],l=e[t+1];r=n<r?n:r,i=n>i?n:i,s=l<s?l:s,a=l>a?l:a}return t.x=r,t.width=i-r,t.y=s,t.height=a-s,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return"[pixi.js/math:PolygoncloseStroke=".concat(this.closePath,"points=").concat(this.points.reduce((t,e)=>"".concat(t,", ").concat(e),""),"]")}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return(0,h.deprecation)("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return(0,h.deprecation)("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if("number"!=typeof e[0]){let t=[];for(let r=0,i=e.length;r<i;r++)t.push(e[r].x,e[r].y);e=t}this.points=e,this.closePath=!0}}t.s(["RoundedRectangle",()=>d],84332);let c=(t,e,r,i,s,a,n)=>{let l=t-r,o=e-i,h=Math.sqrt(l*l+o*o);return h>=s-a&&h<=s+n};class d{getBounds(t){return t||(t=new n.Rectangle),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new d(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){let r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let i=t-(this.x+r),s=e-(this.y+r),a=r*r;if(i*i+s*s<=a||(i=t-(this.x+this.width-r))*i+s*s<=a||i*i+(s=e-(this.y+this.height-r))*s<=a||(i=t-(this.x+r))*i+s*s<=a)return!0}return!1}strokeContains(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,{x:s,y:a,width:n,height:l,radius:o}=this,h=r*(1-i),u=r-h,d=s+o,f=a+o,p=n-2*o,y=l-2*o,x=s+n,g=a+l;return(t>=s-h&&t<=s+u||t>=x-u&&t<=x+h)&&e>=f&&e<=f+y||(e>=a-h&&e<=a+u||e>=g-u&&e<=g+h)&&t>=d&&t<=d+p||t<d&&e<f&&c(t,e,d,f,o,u,h)||t>x-o&&e<f&&c(t,e,x-o,f,o,u,h)||t>x-o&&e>g-o&&c(t,e,x-o,g-o,o,u,h)||t<d&&e>g-o&&c(t,e,d,g-o,o,u,h)}toString(){return"[pixi.js/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")}constructor(t=0,e=0,r=0,i=0,s=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=r,this.height=i,this.radius=s}}},19775,84018,1187,54568,56192,67642,25472,8388,94183,19356,t=>{"use strict";function e(t,e,r,i,s,a,n){let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,o=0;r*=e,s*=a;let h=l.a,u=l.b,c=l.c,d=l.d,f=l.tx,p=l.ty;for(;o<n;){let n=t[r],l=t[r+1];i[s]=h*n+c*l+f,i[s+1]=u*n+d*l+p,s+=a,r+=e,o++}}function r(t,e,r,i){let s=0;for(e*=r;s<i;)t[e]=0,t[e+1]=0,e+=r,s++}function i(t,e,r,i,s){let a=e.a,n=e.b,l=e.c,o=e.d,h=e.tx,u=e.ty;r||(r=0),i||(i=2),s||(s=t.length/i-r);let c=r*i;for(let e=0;e<s;e++){let e=t[c],r=t[c+1];t[c]=a*e+l*r+h,t[c+1]=n*e+o*r+u,c+=i}}t.s(["buildSimpleUvs",()=>r,"buildUvs",()=>e],19775),t.s(["transformVertices",()=>i],84018),t.s(["BatchableGraphics",()=>l],1187);var s=t.i(28959),a=t.i(79276);let n=new s.Matrix;class l{get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){let t=this.baseColor,e=t>>16|65280&t|(255&t)<<16,r=this.renderable;return r?(0,a.multiplyHexColors)(e,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):e+(255*this.alpha<<24)}get transform(){var t;return(null==(t=this.renderable)?void 0:t.groupTransform)||n}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}}t.s(["buildCircle",()=>h,"buildEllipse",()=>u,"buildRoundedRectangle",()=>c],54568);var o=t.i(47760);let h={extension:{type:o.ExtensionType.ShapeBuilder,name:"circle"},build(t,e){let r,i,s,a,n,l;if("circle"===t.type){if((n=l=t.radius)<=0)return!1;r=t.x,i=t.y,s=a=0}else if("ellipse"===t.type){if(n=t.halfWidth,l=t.halfHeight,n<=0||l<=0)return!1;r=t.x,i=t.y,s=a=0}else{let e=t.width/2,o=t.height/2;r=t.x+e,i=t.y+o,n=l=Math.max(0,Math.min(t.radius,Math.min(e,o))),s=e-n,a=o-l}if(s<0||a<0)return!1;let o=Math.ceil(2.3*Math.sqrt(n+l)),h=8*o+4*!!s+4*!!a;if(0===h)return!1;if(0===o)return e[0]=e[6]=r+s,e[1]=e[3]=i+a,e[2]=e[4]=r-s,e[5]=e[7]=i-a,!0;let u=0,c=4*o+2*!!s+2,d=c,f=h,p=s+n,y=a,x=r+p,g=r-p,_=i+y;if(e[u++]=x,e[u++]=_,e[--c]=_,e[--c]=g,a){let t=i-y;e[d++]=g,e[d++]=t,e[--f]=t,e[--f]=x}for(let t=1;t<o;t++){let h=Math.PI/2*(t/o),p=s+Math.cos(h)*n,y=a+Math.sin(h)*l,x=r+p,g=r-p,_=i+y,m=i-y;e[u++]=x,e[u++]=_,e[--c]=_,e[--c]=g,e[d++]=g,e[d++]=m,e[--f]=m,e[--f]=x}p=s,y=a+l,x=r+p,g=r-p,_=i+y;let m=i-y;return e[u++]=x,e[u++]=_,e[--f]=m,e[--f]=x,s&&(e[u++]=g,e[u++]=_,e[--f]=m,e[--f]=g),!0},triangulate(t,e,r,i,s,a){if(0===t.length)return;let n=0,l=0;for(let e=0;e<t.length;e+=2)n+=t[e],l+=t[e+1];n/=t.length/2,l/=t.length/2;let o=i;e[o*r]=n,e[o*r+1]=l;let h=o++;for(let i=0;i<t.length;i+=2)e[o*r]=t[i],e[o*r+1]=t[i+1],i>0&&(s[a++]=o,s[a++]=h,s[a++]=o-1),o++;s[a++]=h+1,s[a++]=h,s[a++]=o-1}},u={...h,extension:{...h.extension,name:"ellipse"}},c={...h,extension:{...h.extension,name:"roundedRectangle"}};t.s(["buildLine",()=>y],56192);var d=t.i(26963);function f(t,e,r,i,s,a,n,l){let o,h;n?(o=i,h=-r):(o=-i,h=r);let u=t-r*s+o,c=e-i*s+h,d=t+r*a+o,f=e+i*a+h;return l.push(u,c),l.push(d,f),2}function p(t,e,r,i,s,a,n,l){let o=r-t,h=i-e,u=Math.atan2(o,h),c=Math.atan2(s-t,a-e);l&&u<c?u+=2*Math.PI:!l&&u>c&&(c+=2*Math.PI);let d=u,f=c-u,p=Math.sqrt(o*o+h*h),y=(15*Math.abs(f)*Math.sqrt(p)/Math.PI|0)+1,x=f/y;if(d+=x,l){n.push(t,e),n.push(r,i);for(let r=1,i=d;r<y;r++,i+=x)n.push(t,e),n.push(t+Math.sin(i)*p,e+Math.cos(i)*p);n.push(t,e),n.push(s,a)}else{n.push(r,i),n.push(t,e);for(let r=1,i=d;r<y;r++,i+=x)n.push(t+Math.sin(i)*p,e+Math.cos(i)*p),n.push(t,e);n.push(s,a),n.push(t,e)}return 2*y}function y(t,e,r,i,s,a){if(0===t.length)return;let n=e.alignment;if(.5!==e.alignment){let e=function(t){let e=t.length;if(e<6)return 1;let r=0;for(let i=0,s=t[e-2],a=t[e-1];i<e;i+=2){let e=t[i],n=t[i+1];r+=(e-s)*(n+a),s=e,a=n}return r<0?-1:1}(t);r&&(e*=-1),n=(n-.5)*e+.5}let l=new d.Point(t[0],t[1]),o=new d.Point(t[t.length-2],t[t.length-1]),h=1e-4>Math.abs(l.x-o.x)&&1e-4>Math.abs(l.y-o.y);if(i){t=t.slice(),h&&(t.pop(),t.pop(),o.set(t[t.length-2],t[t.length-1]));let e=(l.x+o.x)*.5,r=(o.y+l.y)*.5;t.unshift(e,r),t.push(e,r)}let u=t.length/2,c=t.length,y=s.length/2,x=e.width/2,g=x*x,_=e.miterLimit*e.miterLimit,m=t[0],v=t[1],b=t[2],A=t[3],P=0,S=0,M=-(v-A),k=m-b,T=0,C=0,w=Math.sqrt(M*M+k*k);M/=w,k/=w,M*=x,k*=x;let E=n,R=(1-E)*2,B=2*E;i||("round"===e.cap?c+=p(m-M*(R-B)*.5,v-k*(R-B)*.5,m-M*R,v-k*R,m+M*B,v+k*B,s,!0)+2:"square"===e.cap&&(c+=f(m,v,M,k,R,B,!0,s))),s.push(m-M*R,v-k*R),s.push(m+M*B,v+k*B);for(let r=1;r<u-1;++r){m=t[(r-1)*2],v=t[(r-1)*2+1],b=t[2*r],A=t[2*r+1],P=t[(r+1)*2],S=t[(r+1)*2+1],w=Math.sqrt((M=-(v-A))*M+(k=m-b)*k),M/=w,k/=w,M*=x,k*=x,w=Math.sqrt((T=-(A-S))*T+(C=b-P)*C),T/=w,C/=w,T*=x,C*=x;let i=b-m,a=v-A,n=b-P,l=S-A,o=i*n+a*l,h=a*n-l*i,u=h<0;if(Math.abs(h)<.001*Math.abs(o)){s.push(b-M*R,A-k*R),s.push(b+M*B,A+k*B),o>=0&&("round"===e.join?c+=p(b,A,b-M*R,A-k*R,b-T*R,A-C*R,s,!1)+4:c+=2,s.push(b-T*B,A-C*B),s.push(b+T*R,A+C*R));continue}let d=(-M+m)*(-k+A)-(-M+b)*(-k+v),f=(-T+P)*(-C+A)-(-T+b)*(-C+S),y=(i*f-n*d)/h,E=(l*d-a*f)/h,I=(y-b)*(y-b)+(E-A)*(E-A),F=b+(y-b)*R,G=A+(E-A)*R,H=b-(y-b)*B,L=A-(E-A)*B,U=u?R:B;I<=Math.min(i*i+a*a,n*n+l*l)+U*U*g?"bevel"===e.join||I/g>_?(u?(s.push(F,G),s.push(b+M*B,A+k*B),s.push(F,G),s.push(b+T*B,A+C*B)):(s.push(b-M*R,A-k*R),s.push(H,L),s.push(b-T*R,A-C*R),s.push(H,L)),c+=2):"round"===e.join?u?(s.push(F,G),s.push(b+M*B,A+k*B),c+=p(b,A,b+M*B,A+k*B,b+T*B,A+C*B,s,!0)+4,s.push(F,G),s.push(b+T*B,A+C*B)):(s.push(b-M*R,A-k*R),s.push(H,L),c+=p(b,A,b-M*R,A-k*R,b-T*R,A-C*R,s,!1)+4,s.push(b-T*R,A-C*R),s.push(H,L)):(s.push(F,G),s.push(H,L)):(s.push(b-M*R,A-k*R),s.push(b+M*B,A+k*B),"round"===e.join?u?c+=p(b,A,b+M*B,A+k*B,b+T*B,A+C*B,s,!0)+2:c+=p(b,A,b-M*R,A-k*R,b-T*R,A-C*R,s,!1)+2:"miter"===e.join&&I/g<=_&&(u?(s.push(H,L),s.push(H,L)):(s.push(F,G),s.push(F,G)),c+=2),s.push(b-T*R,A-C*R),s.push(b+T*B,A+C*B),c+=2)}m=t[(u-2)*2],v=t[(u-2)*2+1],b=t[(u-1)*2],w=Math.sqrt((M=-(v-(A=t[(u-1)*2+1])))*M+(k=m-b)*k),M/=w,k/=w,M*=x,k*=x,s.push(b-M*R,A-k*R),s.push(b+M*B,A+k*B),i||("round"===e.cap?c+=p(b-M*(R-B)*.5,A-k*(R-B)*.5,b-M*R,A-k*R,b+M*B,A+k*B,s,!1)+2:"square"===e.cap&&(c+=f(b,A,M,k,R,B,!1,s)));let I=1e-4*1e-4;for(let t=y;t<c+y-2;++t)m=s[2*t],v=s[2*t+1],b=s[(t+1)*2],A=s[(t+1)*2+1],P=s[(t+2)*2],Math.abs(m*(A-(S=s[(t+2)*2+1]))+b*(S-v)+P*(v-A))<I||a.push(t,t+1,t+2)}function x(t,e,r,i){if(0===t.length)return;let s=t[0],a=t[1],n=t[t.length-2],l=t[t.length-1],o=e||1e-4>Math.abs(s-n)&&1e-4>Math.abs(a-l),h=t.length/2,u=r.length/2;for(let e=0;e<h;e++)r.push(t[2*e]),r.push(t[2*e+1]);for(let t=0;t<h-1;t++)i.push(u+t,u+t+1);o&&i.push(u+h-1,u)}function g(t,e){let r,i,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=e&&e.length,l=n?e[0]*a:t.length,o=_(t,0,l,a,!0),h=[];if(!o||o.next===o.prev)return h;if(n&&(o=function(t,e,r,i){let s=[];for(let r=0,a=e.length;r<a;r++){let n=e[r]*i,l=r<a-1?e[r+1]*i:t.length,o=_(t,n,l,i,!1);o===o.next&&(o.steiner=!0),s.push(function(t){let e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t)return r}(o))}s.sort(v);for(let t=0;t<s.length;t++)r=function(t,e){let r=function(t,e){let r,i=e,s=t.x,a=t.y,n=-1/0;if(M(t,i))return i;do{if(M(t,i.next))return i.next;if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){let t=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(t<=s&&t>n&&(n=t,r=i.x<i.next.x?i:i.next,t===s))return r}i=i.next}while(i!==e)if(!r)return null;let l=r,o=r.x,h=r.y,u=1/0;i=r;do{if(s>=i.x&&i.x>=o&&s!==i.x&&A(a<h?s:n,a,o,h,a<h?n:s,a,i.x,i.y)){var c,d;let e=Math.abs(a-i.y)/(s-i.x);w(i,t)&&(e<u||e===u&&(i.x>r.x||i.x===r.x&&(c=r,d=i,0>S(c.prev,c,d.prev)&&0>S(d.next,c,c.next))))&&(r=i,u=e)}i=i.next}while(i!==l)return r}(t,e);if(!r)return e;let i=E(r,t);return m(i,i.next),m(r,r.next)}(s[t],r);return r}(t,e,o,a)),t.length>80*a){r=t[0],i=t[1];let e=r,n=i;for(let s=a;s<l;s+=a){let a=t[s],l=t[s+1];a<r&&(r=a),l<i&&(i=l),a>e&&(e=a),l>n&&(n=l)}s=0!==(s=Math.max(e-r,n-i))?32767/s:0}return function t(e,r,i,s,a,n,l){if(!e)return;!l&&n&&function(t,e,r,i){let s=t;do 0===s.z&&(s.z=b(s.x,s.y,e,r,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t)s.prevZ.nextZ=null,s.prevZ=null,function(t){let e,r=1;do{let i,s=t;t=null;let a=null;for(e=0;s;){e++;let n=s,l=0;for(let t=0;t<r&&(l++,n=n.nextZ);t++);let o=r;for(;l>0||o>0&&n;)0!==l&&(0===o||!n||s.z<=n.z)?(i=s,s=s.nextZ,l--):(i=n,n=n.nextZ,o--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;s=n}a.nextZ=null,r*=2}while(e>1)}(s)}(e,s,a,n);let o=e;for(;e.prev!==e.next;){let h=e.prev,u=e.next;if(n?function(t,e,r,i){let s=t.prev,a=t.next;if(S(s,t,a)>=0)return!1;let n=s.x,l=t.x,o=a.x,h=s.y,u=t.y,c=a.y,d=Math.min(n,l,o),f=Math.min(h,u,c),p=Math.max(n,l,o),y=Math.max(h,u,c),x=b(d,f,e,r,i),g=b(p,y,e,r,i),_=t.prevZ,m=t.nextZ;for(;_&&_.z>=x&&m&&m.z<=g;){if(_.x>=d&&_.x<=p&&_.y>=f&&_.y<=y&&_!==s&&_!==a&&P(n,h,l,u,o,c,_.x,_.y)&&S(_.prev,_,_.next)>=0||(_=_.prevZ,m.x>=d&&m.x<=p&&m.y>=f&&m.y<=y&&m!==s&&m!==a&&P(n,h,l,u,o,c,m.x,m.y)&&S(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;_&&_.z>=x;){if(_.x>=d&&_.x<=p&&_.y>=f&&_.y<=y&&_!==s&&_!==a&&P(n,h,l,u,o,c,_.x,_.y)&&S(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;m&&m.z<=g;){if(m.x>=d&&m.x<=p&&m.y>=f&&m.y<=y&&m!==s&&m!==a&&P(n,h,l,u,o,c,m.x,m.y)&&S(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}(e,s,a,n):function(t){let e=t.prev,r=t.next;if(S(e,t,r)>=0)return!1;let i=e.x,s=t.x,a=r.x,n=e.y,l=t.y,o=r.y,h=Math.min(i,s,a),u=Math.min(n,l,o),c=Math.max(i,s,a),d=Math.max(n,l,o),f=r.next;for(;f!==e;){if(f.x>=h&&f.x<=c&&f.y>=u&&f.y<=d&&P(i,n,s,l,a,o,f.x,f.y)&&S(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}(e)){r.push(h.i,e.i,u.i),B(e),e=u.next,o=u.next;continue}if((e=u)===o){l?1===l?t(e=function(t,e){let r=t;do{let i=r.prev,s=r.next.next;!M(i,s)&&k(i,r,r.next,s)&&w(i,s)&&w(s,i)&&(e.push(i.i,r.i,s.i),B(r),B(r.next),r=t=s),r=r.next}while(r!==t)return m(r)}(m(e),r),r,i,s,a,n,2):2===l&&function(e,r,i,s,a,n){let l=e;do{let e=l.next.next;for(;e!==l.prev;){var o,h;if(l.i!==e.i&&(o=l,h=e,o.next.i!==h.i&&o.prev.i!==h.i&&!function(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&k(r,r.next,t,e))return!0;r=r.next}while(r!==t)return!1}(o,h)&&(w(o,h)&&w(h,o)&&function(t,e){let r=t,i=!1,s=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&s<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t)return i}(o,h)&&(S(o.prev,o,h.prev)||S(o,h.prev,h))||M(o,h)&&S(o.prev,o,o.next)>0&&S(h.prev,h,h.next)>0))){let o=E(l,e);l=m(l,l.next),o=m(o,o.next),t(l,r,i,s,a,n,0),t(o,r,i,s,a,n,0);return}e=e.next}l=l.next}while(l!==e)}(e,r,i,s,a,n):t(m(e),r,i,s,a,n,1);break}}}(o,h,a,r,i,s,0),h}function _(t,e,r,i,s){let a;if(s===function(t,e,r,i){let s=0;for(let a=e,n=r-i;a<r;a+=i)s+=(t[n]-t[a])*(t[a+1]+t[n+1]),n=a;return s}(t,e,r,i)>0)for(let s=e;s<r;s+=i)a=R(s/i|0,t[s],t[s+1],a);else for(let s=r-i;s>=e;s-=i)a=R(s/i|0,t[s],t[s+1],a);return a&&M(a,a.next)&&(B(a),a=a.next),a}function m(t,e){if(!t)return t;e||(e=t);let r=t,i;do if(i=!1,!r.steiner&&(M(r,r.next)||0===S(r.prev,r,r.next))){if(B(r),(r=e=r.prev)===r.next)break;i=!0}else r=r.next;while(i||r!==e)return e}t.s(["buildPixelLine",()=>x],67642),t.s(["buildPolygon",()=>L],8388);function v(t,e){let r=t.x-e.x;return 0===r&&0==(r=t.y-e.y)&&(r=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)),r}function b(t,e,r,i,s){return(t=((t=((t=((t=((t=(t-r)*s|0)|t<<8)&0xff00ff)|t<<4)&0xf0f0f0f)|t<<2)&0x33333333)|t<<1)&0x55555555)|(e=((e=((e=((e=((e=(e-i)*s|0)|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)<<1}function A(t,e,r,i,s,a,n,l){return(s-n)*(e-l)>=(t-n)*(a-l)&&(t-n)*(i-l)>=(r-n)*(e-l)&&(r-n)*(a-l)>=(s-n)*(i-l)}function P(t,e,r,i,s,a,n,l){return(t!==n||e!==l)&&A(t,e,r,i,s,a,n,l)}function S(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function M(t,e){return t.x===e.x&&t.y===e.y}function k(t,e,r,i){let s=C(S(t,e,r)),a=C(S(t,e,i)),n=C(S(r,i,t)),l=C(S(r,i,e));return!!(s!==a&&n!==l||0===s&&T(t,r,e)||0===a&&T(t,i,e)||0===n&&T(r,t,i)||0===l&&T(r,e,i))}function T(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function C(t){return t>0?1:t<0?-1:0}function w(t,e){return 0>S(t.prev,t,t.next)?S(t,e,t.next)>=0&&S(t,t.prev,e)>=0:0>S(t,e,t.prev)||0>S(t,t.next,e)}function E(t,e){let r=I(t.i,t.x,t.y),i=I(e.i,e.x,e.y),s=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,i.next=r,r.prev=i,a.next=i,i.prev=a,i}function R(t,e,r,i){let s=I(t,e,r);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function B(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function I(t,e,r){return{i:t,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}t.s(["triangulateWithHoles",()=>G],25472),t.i(95932);let F=g.default||g;function G(t,e,r,i,s,a,n){let l=F(t,e,2);if(!l)return;for(let t=0;t<l.length;t+=3)a[n++]=l[t]+s,a[n++]=l[t+1]+s,a[n++]=l[t+2]+s;let o=s*i;for(let e=0;e<t.length;e+=2)r[o]=t[e],r[o+1]=t[e+1],o+=i}let H=[],L={extension:{type:o.ExtensionType.ShapeBuilder,name:"polygon"},build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return!0},triangulate(t,e,r,i,s,a){G(t,H,e,r,i,s,a)}};t.s(["buildRectangle",()=>U],94183);let U={extension:{type:o.ExtensionType.ShapeBuilder,name:"rectangle"},build(t,e){let r=t.x,i=t.y,s=t.width,a=t.height;return!!(s>0&&a>0)&&(e[0]=r,e[1]=i,e[2]=r+s,e[3]=i,e[4]=r+s,e[5]=i+a,e[6]=r,e[7]=i+a,!0)},triangulate(t,e,r,i,s,a){let n=0;e[(i*=r)+n]=t[0],e[i+n+1]=t[1],n+=r,e[i+n]=t[2],e[i+n+1]=t[3],n+=r,e[i+n]=t[6],e[i+n+1]=t[7],n+=r,e[i+n]=t[4],e[i+n+1]=t[5],n+=r;let l=i/r;s[a++]=l,s[a++]=l+1,s[a++]=l+2,s[a++]=l+1,s[a++]=l+3,s[a++]=l+2}};t.s(["buildTriangle",()=>z],19356);let z={extension:{type:o.ExtensionType.ShapeBuilder,name:"triangle"},build:(t,e)=>(e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0),triangulate(t,e,r,i,s,a){let n=0;e[(i*=r)+n]=t[0],e[i+n+1]=t[1],n+=r,e[i+n]=t[2],e[i+n+1]=t[3],n+=r,e[i+n]=t[4],e[i+n+1]=t[5];let l=i/r;s[a++]=l,s[a++]=l+1,s[a++]=l+2}}},99166,t=>{"use strict";t.s(["GraphicsContextSystem",()=>E],99166);var e=t.i(47760),r=t.i(68750),i=t.i(97828),s=t.i(30725),a=t.i(49864),n=t.i(74179),l=t.i(28959),o=t.i(63646),h=t.i(19775),u=t.i(84018),c=t.i(31320),d=t.i(1187),f=t.i(54568),p=t.i(56192),y=t.i(67642),x=t.i(8388),g=t.i(94183),_=t.i(19356),m=t.i(81541);let v=new l.Matrix,b=new o.Rectangle;var A=t.i(25472);let P={};e.extensions.handleByMap(e.ExtensionType.ShapeBuilder,P),e.extensions.add(g.buildRectangle,x.buildPolygon,_.buildTriangle,f.buildCircle,f.buildEllipse,f.buildRoundedRectangle);let S=new o.Rectangle,M=new l.Matrix;function k(t,e,r,i,s){let{vertices:a,uvs:l,indices:o}=s;t.shapePrimitives.forEach(t=>{let{shape:f,transform:x,holes:g}=t,_=[],S=P[f.type];if(!S.build(f,_))return;let k=o.length,T=a.length/2,C="triangle-list";if(x&&(0,u.transformVertices)(_,x),r){var w;let t=null==(w=f.closePath)||w;e.pixelLine?((0,y.buildPixelLine)(_,t,a,o),C="line-list"):(0,p.buildLine)(_,e,!1,t,a,o)}else if(g){let t=[],e=_.slice();(function(t){let e=[];for(let r=0;r<t.length;r++){let i=t[r].shape,s=[];P[i.type].build(i,s)&&e.push(s)}return e})(g).forEach(r=>{t.push(e.length/2),e.push(...r)}),(0,A.triangulateWithHoles)(e,t,a,2,T,o,k)}else S.triangulate(_,a,2,T,o,k);let E=l.length/2,R=e.texture;if(R!==c.Texture.WHITE){let t=function(t,e,r,i){let s=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if("local"===e.textureSpace){let t=r.getBounds(b);e.width&&t.pad(e.width);let{x:i,y:a}=t,n=1/t.width,l=1/t.height,o=-i*n,h=-a*l,u=s.a,c=s.b,d=s.c,f=s.d;s.a*=n,s.b*=n,s.c*=l,s.d*=l,s.tx=o*u+h*d+s.tx,s.ty=o*c+h*f+s.ty}else s.translate(e.texture.frame.x,e.texture.frame.y),s.scale(1/e.texture.source.width,1/e.texture.source.height);let a=e.texture.source.style;return e.fill instanceof m.FillGradient||"clamp-to-edge"!==a.addressMode||(a.addressMode="repeat",a.update()),i&&s.append(v.copyFrom(i).invert()),s}(M,e,f,x);(0,h.buildUvs)(a,2,T,l,E,2,a.length/2-T,t)}else(0,h.buildSimpleUvs)(l,E,2,a.length/2-T);let B=n.BigPool.get(d.BatchableGraphics);B.indexOffset=k,B.indexSize=o.length-k,B.attributeOffset=T,B.attributeSize=a.length/2-T,B.baseColor=e.color,B.alpha=e.alpha,B.texture=R,B.geometryData=s,B.topology=C,i.push(B)})}class T{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class C{init(t){this.batcher=new i.DefaultBatcher({maxTextures:t}),this.instructions.reset()}get geometry(){return(0,a.deprecation)(a.v8_3_4,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}constructor(){this.instructions=new s.InstructionSet}}let w=class t{init(e){var r;t.defaultOptions.bezierSmoothness=null!=(r=null==e?void 0:e.bezierSmoothness)?r:t.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){e?this._cleanGraphicsContextData(t):e=this._initContext(t),function(t,e){let{geometryData:r,batches:i}=e;i.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let e=0;e<t.instructions.length;e++){let s=t.instructions[e];if("texture"===s.action)!function(t,e,r){let i=[],s=P.rectangle;S.x=t.dx,S.y=t.dy,S.width=t.dw,S.height=t.dh;let a=t.transform;if(!s.build(S,i))return;let{vertices:l,uvs:o,indices:h}=r,c=h.length,f=l.length/2;a&&(0,u.transformVertices)(i,a),s.triangulate(i,l,2,f,h,c);let p=t.image,y=p.uvs;o.push(y.x0,y.y0,y.x1,y.y1,y.x3,y.y3,y.x2,y.y2);let x=n.BigPool.get(d.BatchableGraphics);x.indexOffset=c,x.indexSize=h.length-c,x.attributeOffset=f,x.attributeSize=l.length/2-f,x.baseColor=t.style,x.alpha=t.alpha,x.texture=p,x.geometryData=r,e.push(x)}(s.data,i,r);else if("fill"===s.action||"stroke"===s.action){let t="stroke"===s.action,e=s.data.path.shapePath,a=s.data.style,n=s.data.hole;t&&n&&k(n.shapePath,a,!0,i,r),n&&(e.shapePrimitives[e.shapePrimitives.length-1].holes=n.shapePath.shapePrimitives),k(e,a,t,i,r)}}}(t,e);let r=t.batchMode;t.customShader||"no-batch"===r?e.isBatchable=!1:"auto"===r?e.isBatchable=e.geometryData.vertices.length<400:e.isBatchable=!0,t.dirty=!1}return e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){let e=n.BigPool.get(C,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:i,geometryData:s}=this._gpuContextHash[t.uid],a=s.vertices.length,l=s.indices.length;for(let t=0;t<i.length;t++)i[t].applyTransform=!1;let o=e.batcher;o.ensureAttributeBuffer(a),o.ensureIndexBuffer(l),o.begin();for(let t=0;t<i.length;t++){let e=i[t];o.add(e)}o.finish(e.instructions);let h=o.geometry;h.indexBuffer.setDataWithSize(o.indexBuffer,o.indexSize,!0),h.buffers[0].setDataWithSize(o.attributeBuffer.float32View,o.attributeSize,!0);let u=o.batches;for(let t=0;t<u.length;t++){let e=u[t];e.bindGroup=(0,r.getTextureBatchBindGroup)(e.textures.textures,e.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=e,e}_initContext(t){let e=new T;return e.context=t,this._gpuContextHash[t.uid]=e,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){let e=this._gpuContextHash[t.uid];!e.isBatchable&&this._graphicsDataContextHash[t.uid]&&(n.BigPool.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach(t=>{n.BigPool.return(t)})}destroy(){for(let t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}};w.extension={type:[e.ExtensionType.WebGLSystem,e.ExtensionType.WebGPUSystem,e.ExtensionType.CanvasSystem],name:"graphicsContext"},w.defaultOptions={bezierSmoothness:.5};let E=w},44252,91166,t=>{"use strict";t.s(["GraphicsPath",()=>v],44252);var e=t.i(26963),r=t.i(24314),i=t.i(85830),s=t.i(65767),a=t.i(19258),n=t.i(6290),l=t.i(60295),o=t.i(63646),h=t.i(84332),u=t.i(69553),c=t.i(99166);function d(t,e,r,i,s,a,n,l,o,h){var u,d,f;let p=(1-Math.min(.99,Math.max(0,null!=h?h:c.GraphicsContextSystem.defaultOptions.bezierSmoothness)))/1;return p*=p,function t(e,r,i,s,a,n,l,o,h,u,c){if(c>8)return;let d=(e+i)/2,f=(r+s)/2,p=(i+a)/2,y=(s+n)/2,x=(a+l)/2,g=(n+o)/2,_=(d+p)/2,m=(f+y)/2,v=(p+x)/2,b=(y+g)/2,A=(_+v)/2,P=(m+b)/2;if(c>0){let t=l-e,c=o-r,d=Math.abs((i-l)*c-(s-o)*t),f=Math.abs((a-l)*c-(n-o)*t);if(d>11920929e-14&&f>11920929e-14){if((d+f)*(d+f)<=u*(t*t+c*c))return void h.push(A,P)}else if(d>11920929e-14){if(d*d<=u*(t*t+c*c))return void h.push(A,P)}else if(f>11920929e-14){if(f*f<=u*(t*t+c*c))return void h.push(A,P)}else if((t=A-(e+l)/2)*t+(c=P-(r+o)/2)*c<=u)return void h.push(A,P)}t(e,r,d,f,_,m,A,P,h,u,c+1),t(A,P,v,b,x,g,l,o,h,u,c+1)}(e,r,i,s,a,n,u=l,d=o,f=t,p,0),f.push(u,d),t}function f(t,e,r,i,s,a,n,l){let o=Math.abs(s-a);!n&&s>a?o=2*Math.PI-o:n&&a>s&&(o=2*Math.PI-o),l||(l=Math.max(6,Math.floor(6*Math.pow(i,1/3)*(o/Math.PI))));let h=o/(l=Math.max(l,3)),u=s;h*=n?-1:1;for(let s=0;s<l+1;s++){let s=e+Math.cos(u)*i,a=r+Math.sin(u)*i;t.push(s,a),u+=h}}let p=2*Math.PI,y={centerX:0,centerY:0,ang1:0,ang2:0},x=(t,e,r,i,s,a,n,l)=>{let{x:o,y:h}=t,u=i*(o*=e)-s*(h*=r),c=s*o+i*h;return l.x=u+a,l.y=c+n,l},g=(t,e,r,i)=>{let s=t*r+e*i;return s>1&&(s=1),s<-1&&(s=-1),(t*i-e*r<0?-1:1)*Math.acos(s)},_=new o.Rectangle;class m{moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();let r=this._currentPoly.points,i=r[r.length-2],s=r[r.length-1];return(i!==t||s!==e)&&r.push(t,e),this}arc(t,e,r,i,s,a){return this._ensurePoly(!1),f(this._currentPoly.points,t,e,r,i,s,a),this}arcTo(t,e,r,i,s){return this._ensurePoly(),!function(t,e,r,i,s,a){let n=t[t.length-2],l=t[t.length-1]-r,o=n-e,h=s-r,u=i-e,c=Math.abs(l*u-o*h);if(c<1e-8||0===a){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}let d=l*l+o*o,p=h*h+u*u,y=l*h+o*u,x=a*Math.sqrt(d)/c,g=a*Math.sqrt(p)/c,_=x*y/d,m=g*y/p,v=x*u+g*o,b=x*h+g*l,A=Math.atan2(l*(g+_)-b,o*(g+_)-v),P=Math.atan2(h*(x+m)-b,u*(x+m)-v);f(t,v+e,b+r,a,A,P,o*h>u*l)}(this._currentPoly.points,t,e,r,i,s),this}arcToSvg(t,e,r,i,s,a,n){return!function(t,e,r,i,s,a,n){let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;if(0===a||0===n)return;let u=Math.sin(l*p/360),c=Math.cos(l*p/360),f=c*(e-i)/2+u*(r-s)/2,_=-u*(e-i)/2+c*(r-s)/2;if(0===f&&0===_)return;let m=Math.pow(f,2)/Math.pow(a=Math.abs(a),2)+Math.pow(_,2)/Math.pow(n=Math.abs(n),2);m>1&&(a*=Math.sqrt(m),n*=Math.sqrt(m)),((t,e,r,i,s,a,n,l,o,h,u,c,d)=>{let f=Math.pow(s,2),y=Math.pow(a,2),x=Math.pow(u,2),_=Math.pow(c,2),m=f*y-f*_-y*x;m<0&&(m=0),m/=f*_+y*x;let v=(m=Math.sqrt(m)*(n===l?-1:1))*s/a*c,b=-(m*a)/s*u,A=(u-v)/s,P=(c-b)/a,S=g(1,0,A,P),M=g(A,P,(-u-v)/s,(-c-b)/a);0===l&&M>0&&(M-=p),1===l&&M<0&&(M+=p),d.centerX=h*v-o*b+(t+r)/2,d.centerY=o*v+h*b+(e+i)/2,d.ang1=S,d.ang2=M})(e,r,i,s,a,n,o,h,u,c,f,_,y);let{ang1:v,ang2:b}=y,{centerX:A,centerY:P}=y,S=Math.abs(b)/(p/4);1e-7>Math.abs(1-S)&&(S=1);let M=Math.max(Math.ceil(S),1);b/=M;let k=t[t.length-2],T=t[t.length-1],C={x:0,y:0};for(let e=0;e<M;e++){let e=function(t,e){let r=-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),i=1.5707963267948966===e?.551915024494:r,s=Math.cos(t),a=Math.sin(t),n=Math.cos(t+e),l=Math.sin(t+e);return[{x:s-a*i,y:a+s*i},{x:n+l*i,y:l-n*i},{x:n,y:l}]}(v,b),{x:r,y:i}=x(e[0],a,n,c,u,A,P,C),{x:s,y:l}=x(e[1],a,n,c,u,A,P,C),{x:o,y:h}=x(e[2],a,n,c,u,A,P,C);d(t,k,T,r,i,s,l,o,h),k=o,T=h,v+=b}}(this._currentPoly.points,this._currentPoly.lastX,this._currentPoly.lastY,a,n,t,e,r,i,s),this}bezierCurveTo(t,e,r,i,s,a,n){this._ensurePoly();let l=this._currentPoly;return d(this._currentPoly.points,l.lastX,l.lastY,t,e,r,i,s,a,n),this}quadraticCurveTo(t,e,r,i,s){var a,n,l,o,h,u,d,f,p,y,x;let g;this._ensurePoly();let _=this._currentPoly;return a=this._currentPoly.points,n=_.lastX,l=_.lastY,g=(1-Math.min(.99,Math.max(0,null!=s?s:c.GraphicsContextSystem.defaultOptions.bezierSmoothness)))/1,o=n,h=l,u=t,d=e,f=r,p=i,y=a,x=g*=g,function t(e,r,i,s,a,n,l,o,h){if(h>8)return;let u=(r+s)/2,c=(i+a)/2,d=(s+n)/2,f=(a+l)/2,p=(u+d)/2,y=(c+f)/2,x=n-r,g=l-i,_=Math.abs((s-n)*g-(a-l)*x);if(_>11920929e-14){if(_*_<=o*(x*x+g*g))return void e.push(p,y)}else if((x=p-(r+n)/2)*x+(g=y-(i+l)/2)*g<=o)return void e.push(p,y);t(e,r,i,u,c,p,y,o,h+1),t(e,p,y,d,f,n,l,o,h+1)}(y,o,h,u,d,f,p,x,0),y.push(f,p),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0)).transform(e);let r=this.shapePrimitives,i=r.length;for(let e=0;e<t.instructions.length;e++){let r=t.instructions[e];this[r.action](...r.data)}if(t.checkForHoles&&r.length-i>1){let t=null;for(let e=i;e<r.length;e++){let i=r[e];if("polygon"===i.shape.type){let s=i.shape,a=null==t?void 0:t.shape;a&&a.containsPolygon(s)?(t.holes||(t.holes=[]),t.holes.push(i),r.copyWithin(e,e+1),r.length--,e--):t=i}}}return this}finish(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.endPoly(t)}rect(t,e,r,i,s){return this.drawShape(new o.Rectangle(t,e,r,i),s),this}circle(t,e,r,i){return this.drawShape(new a.Circle(t,e,r),i),this}poly(t,e,r){let i=new l.Polygon(t);return i.closePath=e,this.drawShape(i,r),this}regularPoly(t,e,r,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,n=-1*Math.PI/2+s,l=2*Math.PI/(i=Math.max(0|i,3)),o=[];for(let s=0;s<i;s++){let i=n-s*l;o.push(t+r*Math.cos(i),e+r*Math.sin(i))}return this.poly(o,!0,a),this}roundPoly(t,e,r,i,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6?arguments[6]:void 0;if(i=Math.max(0|i,3),s<=0)return this.regularPoly(t,e,r,i,a);s=Math.min(s,r*Math.sin(Math.PI/i)-.001);let l=-1*Math.PI/2+a,o=2*Math.PI/i,h=(i-2)*Math.PI/i/2;for(let a=0;a<i;a++){let i=a*o+l,u=t+r*Math.cos(i),c=e+r*Math.sin(i),d=i+Math.PI+h,f=i-Math.PI-h,p=u+s*Math.cos(d),y=c+s*Math.sin(d),x=u+s*Math.cos(f),g=c+s*Math.sin(f);0===a?this.moveTo(p,y):this.lineTo(p,y),this.quadraticCurveTo(u,c,x,g,n)}return this.closePath()}roundShape(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return t.length<3?this:(r?!function(t,e,r,i){let s=(t,e)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),a=(t,e,r)=>({x:t.x+(e.x-t.x)*r,y:t.y+(e.y-t.y)*r}),n=e.length;for(let o=0;o<n;o++){var l;let h,u,c=e[(o+1)%n],d=null!=(l=c.radius)?l:r;if(d<=0){0===o?t.moveTo(c.x,c.y):t.lineTo(c.x,c.y);continue}let f=e[o],p=e[(o+2)%n],y=s(f,c);h=y<1e-4?c:a(c,f,Math.min(y/2,d)/y);let x=s(p,c);u=x<1e-4?c:a(c,p,Math.min(x/2,d)/x),0===o?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y),t.quadraticCurveTo(c.x,c.y,u.x,u.y,i)}}(this,t,e,i):!function(t,e,r){let i=(t,e)=>{let r=e.x-t.x,i=e.y-t.y,s=Math.sqrt(r*r+i*i);return{len:s,nx:r/s,ny:i/s}},s=(e,r)=>{0===e?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y)},a=e[e.length-1];for(let l=0;l<e.length;l++){var n;let o,h=e[l%e.length],u=null!=(n=h.radius)?n:r;if(u<=0){s(l,h),a=h;continue}let c=e[(l+1)%e.length],d=i(h,a),f=i(h,c);if(d.len<1e-4||f.len<1e-4){s(l,h),a=h;continue}let p=Math.asin(d.nx*f.ny-d.ny*f.nx),y=1,x=!1;d.nx*f.nx- -(d.ny*f.ny)<0?p<0?p=Math.PI+p:(p=Math.PI-p,y=-1,x=!0):p>0&&(y=-1,x=!0);let g=p/2,_=Math.abs(Math.cos(g)*u/Math.sin(g));o=_>Math.min(d.len/2,f.len/2)?Math.abs((_=Math.min(d.len/2,f.len/2))*Math.sin(g)/Math.cos(g)):u;let m=h.x+f.nx*_+-f.ny*o*y,v=h.y+f.ny*_+f.nx*o*y,b=Math.atan2(d.ny,d.nx)+Math.PI/2*y,A=Math.atan2(f.ny,f.nx)-Math.PI/2*y;0===l&&t.moveTo(m+Math.cos(b)*o,v+Math.sin(b)*o),t.arc(m,v,o,b,A,x),a=h}}(this,t,e),this.closePath())}filletRect(t,e,r,i,s){if(0===s)return this.rect(t,e,r,i);let a=Math.min(r,i)/2,n=Math.min(a,Math.max(-a,s)),l=t+r,o=e+i,h=n<0?-n:0,u=Math.abs(n);return this.moveTo(t,e+u).arcTo(t+h,e+h,t+u,e,u).lineTo(l-u,e).arcTo(l-h,e+h,l,e+u,u).lineTo(l,o-u).arcTo(l-h,o-h,t+r-u,o,u).lineTo(t+u,o).arcTo(t+h,o-h,t,o-u,u).closePath()}chamferRect(t,e,r,i,s,a){if(s<=0)return this.rect(t,e,r,i);let n=Math.min(s,Math.min(r,i)/2),l=t+r,o=e+i,h=[t+n,e,l-n,e,l,e+n,l,o-n,l-n,o,t+n,o,t,o-n,t,e+n];for(let t=h.length-1;t>=2;t-=2)h[t]===h[t-2]&&h[t-1]===h[t-3]&&h.splice(t-1,2);return this.poly(h,!0,a)}ellipse(t,e,r,i,s){return this.drawShape(new n.Ellipse(t,e,r,i),s),this}roundRect(t,e,r,i,s,a){return this.drawShape(new h.RoundedRectangle(t,e,r,i,s),a),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let r=this._currentPoly;return r&&this.endPoly(),(r=new l.Polygon).points.push(t,e),this._currentPoly=r,this}endPoly(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!this._currentPoly&&(this._currentPoly=new l.Polygon,t)){let t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let e=t.shape.x,r=t.shape.y;if(t.transform&&!t.transform.isIdentity()){let i=t.transform,s=e;e=i.a*e+i.c*r+i.tx,r=i.b*s+i.d*r+i.ty}this._currentPoly.points.push(e,r)}else this._currentPoly.points.push(0,0)}}buildPath(){let t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){let r=t.instructions[e];this[r.action](...r.data)}this.finish()}get bounds(){let t=this._bounds;t.clear();let e=this.shapePrimitives;for(let r=0;r<e.length;r++){let i=e[r],s=i.shape.getBounds(_);i.transform?t.addRect(s,i.transform):t.addRect(s)}return t}constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new u.Bounds,this._graphicsPath2D=t,this.signed=t.checkForHoles}}class v{get shapePath(){return this._shapePath||(this._shapePath=new m(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(t,r,i,s,a){let n=this.instructions[this.instructions.length-1],l=this.getLastPoint(e.Point.shared),o=0,h=0;if(n&&"bezierCurveTo"===n.action){o=n.data[2],h=n.data[3];let t=l.x,e=l.y;o=t+(t-o),h=e+(e-h)}else o=l.x,h=l.y;return this.instructions.push({action:"bezierCurveTo",data:[o,h,t,r,i,s,a]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(t,r,i){let s=this.instructions[this.instructions.length-1],a=this.getLastPoint(e.Point.shared),n=0,l=0;if(s&&"quadraticCurveTo"===s.action){n=s.data[0],l=s.data[1];let t=a.x,e=a.y;n=t+(t-n),l=e+(e-l)}else n=a.x,l=a.y;return this.instructions.push({action:"quadraticCurveTo",data:[n,l,t,r,i]}),this._dirty=!0,this}rect(t,e,r,i,s){return this.instructions.push({action:"rect",data:[t,e,r,i,s]}),this._dirty=!0,this}circle(t,e,r,i){return this.instructions.push({action:"circle",data:[t,e,r,i]}),this._dirty=!0,this}roundRect(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(t,e,r,i,s,a,n){s||(s=i/2);let l=-1*Math.PI/2+a,o=2*r,h=2*Math.PI/o,u=[];for(let r=0;r<o;r++){let a=r%2?s:i,n=r*h+l;u.push(t+a*Math.cos(n),e+a*Math.sin(n))}return this.poly(u,!0,n),this}clone(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new v;if(e.checkForHoles=this.checkForHoles,t)for(let t=0;t<this.instructions.length;t++){let r=this.instructions[t];e.instructions.push({action:r.action,data:r.data.slice()})}else e.instructions=this.instructions.slice();return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;let e=t.a,r=t.b,s=t.c,a=t.d,n=t.tx,l=t.ty,o=0,h=0,u=0,c=0,d=0,f=0,p=0,y=0;for(let x=0;x<this.instructions.length;x++){let g=this.instructions[x],_=g.data;switch(g.action){case"moveTo":case"lineTo":o=_[0],h=_[1],_[0]=e*o+s*h+n,_[1]=r*o+a*h+l;break;case"bezierCurveTo":u=_[0],c=_[1],d=_[2],f=_[3],o=_[4],h=_[5],_[0]=e*u+s*c+n,_[1]=r*u+a*c+l,_[2]=e*d+s*f+n,_[3]=r*d+a*f+l,_[4]=e*o+s*h+n,_[5]=r*o+a*h+l;break;case"quadraticCurveTo":u=_[0],c=_[1],o=_[2],h=_[3],_[0]=e*u+s*c+n,_[1]=r*u+a*c+l,_[2]=e*o+s*h+n,_[3]=r*o+a*h+l;break;case"arcToSvg":o=_[5],h=_[6],p=_[0],y=_[1],_[0]=e*p+s*y,_[1]=r*p+a*y,_[5]=e*o+s*h+n,_[6]=r*o+a*h+l;break;case"circle":_[4]=b(_[3],t);break;case"rect":_[4]=b(_[4],t);break;case"ellipse":_[8]=b(_[8],t);break;case"roundRect":_[5]=b(_[5],t);break;case"addPath":_[0].transform(t);break;case"poly":_[2]=b(_[2],t);break;default:(0,i.warn)("unknown transform action",g.action)}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,r=this.instructions[e];if(!r)return t.x=0,t.y=0,t;for(;"closePath"===r.action;){if(--e<0)return t.x=0,t.y=0,t;r=this.instructions[e]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t)}return t}constructor(t,e=!1){if(this.instructions=[],this.uid=(0,r.uid)("graphicsPath"),this._dirty=!0,this.checkForHoles=e,"string"==typeof t)(0,s.parseSVGPath)(t,this);else{var i;this.instructions=null!=(i=null==t?void 0:t.slice())?i:[]}}}function b(t,e){return t?t.prepend(e):e.clone()}t.s(["SVGParser",()=>w],91166);var A=t.i(57471),P=t.i(81541);function S(t,e,r){let i=t.getAttribute(e);return i?Number(i):r}function M(t){let e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}let k={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function T(t,e){let r=t.getAttribute("style"),i={},s={},a={strokeStyle:i,fillStyle:s,useFill:!1,useStroke:!1};for(let r in k){let i=t.getAttribute(r);i&&C(e,a,r,i.trim())}if(r){let t=r.split(";");for(let r=0;r<t.length;r++){let[i,s]=t[r].trim().split(":");k[i]&&C(e,a,i,s.trim())}}return{strokeStyle:a.useStroke?i:null,fillStyle:a.useFill?s:null,useFill:a.useFill,useStroke:a.useStroke}}function C(t,e,r,i){switch(r){case"stroke":if("none"!==i){if(i.startsWith("url(")){let r=M(i);e.strokeStyle.fill=t.defs[r]}else e.strokeStyle.color=A.Color.shared.setValue(i).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(i);break;case"fill":if("none"!==i){if(i.startsWith("url(")){let r=M(i);e.fillStyle.fill=t.defs[r]}else e.fillStyle.color=A.Color.shared.setValue(i).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(i);break;case"stroke-opacity":e.strokeStyle.alpha=Number(i);break;case"opacity":e.fillStyle.alpha=Number(i),e.strokeStyle.alpha=Number(i)}}function w(t,e){if("string"==typeof t){let e=document.createElement("div");e.innerHTML=t.trim(),t=e.querySelector("svg")}let r={context:e,defs:{},path:new v};!function(t,e){let r=t.querySelectorAll("defs");for(let t=0;t<r.length;t++){let s=r[t];for(let t=0;t<s.children.length;t++){let r=s.children[t];switch(r.nodeName.toLowerCase()){case"lineargradient":e.defs[r.id]=function(t){let e=S(t,"x1",0),r=S(t,"y1",0),i=S(t,"x2",1),s=S(t,"y2",0),a=t.getAttribute("gradientUnits")||"objectBoundingBox",n=new P.FillGradient(e,r,i,s,"objectBoundingBox"===a?"local":"global");for(let e=0;e<t.children.length;e++){let r=t.children[e],i=S(r,"offset",0),s=A.Color.shared.setValue(r.getAttribute("stop-color")).toNumber();n.addColorStop(i,s)}return n}(r);break;case"radialgradient":e.defs[r.id]=((0,i.warn)("[SVG Parser] Radial gradients are not yet supported"),new P.FillGradient(0,0,1,0))}}}}(t,r);let s=t.children,{fillStyle:a,strokeStyle:n}=T(t,r);for(let t=0;t<s.length;t++){let e=s[t];"defs"!==e.nodeName.toLowerCase()&&function t(e,r,s,a){let n,l,o,h,u,c,d,f,p,y,x,g,_,m,b,A,P=e.children,{fillStyle:M,strokeStyle:k}=T(e,r);M&&s?s={...s,...M}:M&&(s=M),k&&a?a={...a,...k}:k&&(a=k);let C=!s&&!a;switch(C&&(s={color:0}),e.nodeName.toLowerCase()){case"path":_=e.getAttribute("d"),"evenodd"===e.getAttribute("fill-rule")&&(0,i.warn)("SVG Evenodd fill rule not supported, your svg may render incorrectly"),m=new v(_,!0),r.context.path(m),s&&r.context.fill(s),a&&r.context.stroke(a);break;case"circle":d=S(e,"cx",0),f=S(e,"cy",0),p=S(e,"r",0),r.context.ellipse(d,f,p,p),s&&r.context.fill(s),a&&r.context.stroke(a);break;case"rect":n=S(e,"x",0),l=S(e,"y",0),b=S(e,"width",0),A=S(e,"height",0),y=S(e,"rx",0),x=S(e,"ry",0),y||x?r.context.roundRect(n,l,b,A,y||x):r.context.rect(n,l,b,A),s&&r.context.fill(s),a&&r.context.stroke(a);break;case"ellipse":d=S(e,"cx",0),f=S(e,"cy",0),y=S(e,"rx",0),x=S(e,"ry",0),r.context.beginPath(),r.context.ellipse(d,f,y,x),s&&r.context.fill(s),a&&r.context.stroke(a);break;case"line":o=S(e,"x1",0),h=S(e,"y1",0),u=S(e,"x2",0),c=S(e,"y2",0),r.context.beginPath(),r.context.moveTo(o,h),r.context.lineTo(u,c),a&&r.context.stroke(a);break;case"polygon":g=e.getAttribute("points").match(/\d+/g).map(t=>parseInt(t,10)),r.context.poly(g,!0),s&&r.context.fill(s),a&&r.context.stroke(a);break;case"polyline":g=e.getAttribute("points").match(/\d+/g).map(t=>parseInt(t,10)),r.context.poly(g,!1),a&&r.context.stroke(a);break;case"g":case"svg":break;default:(0,i.warn)("[SVG parser] <".concat(e.nodeName,"> elements unsupported"))}C&&(s=null);for(let e=0;e<P.length;e++)t(P[e],r,s,a)}(e,r,a,n)}return e}},94425,86230,20446,t=>{"use strict";t.s(["Graphics",()=>S],94425);var e=t.i(49864),r=t.i(97377);t.s(["GraphicsContext",()=>P],20446);var i=t.i(95932),s=t.i(57471),a=t.i(28959),n=t.i(26963),l=t.i(31320),o=t.i(24314),h=t.i(69553),u=t.i(44252),c=t.i(91166);t.s(["toFillStyle",()=>_,"toStrokeStyle",()=>m],86230);var d=t.i(81541),f=t.i(37836);function p(t){return t instanceof f.FillPattern}function y(t){return t instanceof d.FillGradient}function x(t,e,r){return t.fill=e,t.color=0xffffff,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function g(t,e,r){return e.buildGradient(),t.fill=e,t.color=0xffffff,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...r,...t}}function _(t,e){if(null==t)return null;let r={};if(s.Color.isColorLike(t)){let i=s.Color.shared.setValue(null!=t?t:0);return r.color=i.toNumber(),r.alpha=1===i.alpha?e.alpha:i.alpha,r.texture=l.Texture.WHITE,{...e,...r}}if(t instanceof l.Texture)return r.texture=t,{...e,...r};if(p(t))return x(r,t,e);if(y(t))return g(r,t,e);else if(t.fill&&p(t.fill))return x(t,t.fill,e);else if(t.fill&&y(t.fill))return g(t,t.fill,e);let i={...e,...t},a=s.Color.shared.setValue(i.color);return i.alpha*=a.alpha,i.color=a.toNumber(),i}function m(t,e){let{width:r,alignment:i,miterLimit:s,cap:a,join:n,pixelLine:l,...o}=e,h=_(t,o);return h?{width:r,alignment:i,miterLimit:s,cap:a,join:n,pixelLine:l,...h}:null}let v=new n.Point,b=new a.Matrix,A=class t extends i.default{clone(){let e=new t;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=_(e,t.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=m(e,t.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=_(e,t.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=_(e,t.defaultStrokeStyle),this}texture(t,e,r,i,a,n){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:i||0,dw:a||t.frame.width,dh:n||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?s.Color.shared.setValue(e).toNumber():0xffffff}}),this.onUpdate(),this}beginPath(){return this._activePath=new u.GraphicsPath,this}fill(r,i){let s,a=this.instructions[this.instructions.length-1];return(s=0===this._tick&&a&&"stroke"===a.action?a.data.path:this._activePath.clone())&&(null!=r&&(void 0!==i&&"number"==typeof r&&((0,e.deprecation)(e.v8_0_0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),r={color:r,alpha:i}),this._fillStyle=_(r,t.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0),this}_initNextPathLocation(){let{x:t,y:e}=this._activePath.getLastPoint(n.Point.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(e){let r,i=this.instructions[this.instructions.length-1];return(r=0===this._tick&&i&&"fill"===i.action?i.data.path:this._activePath.clone())&&(null!=e&&(this._strokeStyle=m(e,t.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0),this}cut(){for(let t=0;t<2;t++){let e=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(e&&("stroke"===e.action||"fill"===e.action))if(e.data.hole)e.data.hole.addPath(r);else{e.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,e,r,i,s,a){this._tick++;let n=this._transform;return this._activePath.arc(n.a*t+n.c*e+n.tx,n.b*t+n.d*e+n.ty,r,i,s,a),this}arcTo(t,e,r,i,s){this._tick++;let a=this._transform;return this._activePath.arcTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*r+a.c*i+a.tx,a.b*r+a.d*i+a.ty,s),this}arcToSvg(t,e,r,i,s,a,n){this._tick++;let l=this._transform;return this._activePath.arcToSvg(t,e,r,i,s,l.a*a+l.c*n+l.tx,l.b*a+l.d*n+l.ty),this}bezierCurveTo(t,e,r,i,s,a,n){this._tick++;let l=this._transform;return this._activePath.bezierCurveTo(l.a*t+l.c*e+l.tx,l.b*t+l.d*e+l.ty,l.a*r+l.c*i+l.tx,l.b*r+l.d*i+l.ty,l.a*s+l.c*a+l.tx,l.b*s+l.d*a+l.ty,n),this}closePath(){var t;return this._tick++,null==(t=this._activePath)||t.closePath(),this}ellipse(t,e,r,i){return this._tick++,this._activePath.ellipse(t,e,r,i,this._transform.clone()),this}circle(t,e,r){return this._tick++,this._activePath.circle(t,e,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;let r=this._transform;return this._activePath.lineTo(r.a*t+r.c*e+r.tx,r.b*t+r.d*e+r.ty),this}moveTo(t,e){this._tick++;let r=this._transform,i=this._activePath.instructions,s=r.a*t+r.c*e+r.tx,a=r.b*t+r.d*e+r.ty;return 1===i.length&&"moveTo"===i[0].action?(i[0].data[0]=s,i[0].data[1]=a):this._activePath.moveTo(s,a),this}quadraticCurveTo(t,e,r,i,s){this._tick++;let a=this._transform;return this._activePath.quadraticCurveTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*r+a.c*i+a.tx,a.b*r+a.d*i+a.ty,s),this}rect(t,e,r,i){return this._tick++,this._activePath.rect(t,e,r,i,this._transform.clone()),this}roundRect(t,e,r,i,s){return this._tick++,this._activePath.roundRect(t,e,r,i,s,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,r,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0;return this._tick++,this._activePath.regularPoly(t,e,r,i,s,a),this}roundPoly(t,e,r,i,s,a){return this._tick++,this._activePath.roundPoly(t,e,r,i,s,a),this}roundShape(t,e,r,i){return this._tick++,this._activePath.roundShape(t,e,r,i),this}filletRect(t,e,r,i,s){return this._tick++,this._activePath.filletRect(t,e,r,i,s),this}chamferRect(t,e,r,i,s,a){return this._tick++,this._activePath.chamferRect(t,e,r,i,s,a),this}star(t,e,r,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return this._tick++,this._activePath.star(t,e,r,i,s,a,this._transform.clone()),this}svg(t){return this._tick++,(0,c.SVGParser)(t,this),this}restore(){let t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._transform.scale(t,e),this}setTransform(t,e,r,i,s,n){return t instanceof a.Matrix?this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty):this._transform.set(t,e,r,i,s,n),this}transform(t,e,r,i,s,n){return t instanceof a.Matrix?this._transform.append(t):(b.set(t,e,r,i,s,n),this._transform.append(b)),this}translate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;let t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){let r=this.instructions[e],i=r.action;if("fill"===i){let e=r.data;t.addBounds(e.path.bounds)}else if("texture"===i){let e=r.data;t.addFrame(e.dx,e.dy,e.dx+e.dw,e.dy+e.dh,e.transform)}if("stroke"===i){let e=r.data,i=e.style.alignment,s=e.style.width*(1-i),a=e.path.bounds;t.addFrame(a.minX-s,a.minY-s,a.maxX+s,a.maxY+s)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;let e=this.instructions,r=!1;for(let s=0;s<e.length;s++){let a=e[s],n=a.data,l=n.path;if(!a.action||!l)continue;let o=n.style,h=l.shapePath.shapePrimitives;for(let e=0;e<h.length;e++){let s=h[e].shape;if(!o||!s)continue;let l=h[e].transform,u=l?l.applyInverse(t,v):t;r="fill"===a.action?s.contains(u.x,u.y):s.strokeContains(u.x,u.y,o.width,o.alignment);let c=n.hole;if(c){var i;let t=null==(i=c.shapePath)?void 0:i.shapePrimitives;if(t)for(let e=0;e<t.length;e++)t[e].shape.contains(u.x,u.y)&&(r=!1)}if(r)return!0}}return r}destroy(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),"boolean"==typeof t?t:null==t?void 0:t.texture){let e="boolean"==typeof t?t:null==t?void 0:t.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(e)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(e))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}constructor(){super(...arguments),this.uid=(0,o.uid)("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new u.GraphicsPath,this._transform=new a.Matrix,this._fillStyle={...t.defaultFillStyle},this._strokeStyle={...t.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new h.Bounds,this._boundsDirty=!0}};A.defaultFillStyle={color:0xffffff,alpha:1,texture:l.Texture.WHITE,matrix:null,fill:null,textureSpace:"local"},A.defaultStrokeStyle={width:1,color:0xffffff,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:l.Texture.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let P=A;class S extends r.ViewContainer{set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(!0===t||(null==t?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("setFillStyle",e)}setStrokeStyle(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("setStrokeStyle",e)}fill(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("fill",e)}stroke(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("stroke",e)}texture(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("arc",e)}arcTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("arcTo",e)}arcToSvg(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("arcToSvg",e)}bezierCurveTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("ellipse",e)}circle(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("circle",e)}path(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("path",e)}lineTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("lineTo",e)}moveTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("moveTo",e)}quadraticCurveTo(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("quadraticCurveTo",e)}rect(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("rect",e)}roundRect(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("roundRect",e)}poly(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("poly",e)}regularPoly(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("regularPoly",e)}roundPoly(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("roundPoly",e)}roundShape(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("roundShape",e)}filletRect(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("filletRect",e)}chamferRect(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("chamferRect",e)}star(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("star",e)}svg(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("svg",e)}restore(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("rotate",e)}scaleTransform(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("scale",e)}setTransform(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("setTransform",e)}transform(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("transform",e)}translateTransform(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?new S(this._context.clone()):(this._ownedContext=null,new S(this._context))}lineStyle(t,r,i){(0,e.deprecation)(e.v8_0_0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");let s={};return t&&(s.width=t),r&&(s.color=r),i&&(s.alpha=i),this.context.strokeStyle=s,this}beginFill(t,r){(0,e.deprecation)(e.v8_0_0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");let i={};return void 0!==t&&(i.color=t),void 0!==r&&(i.alpha=r),this.context.fillStyle=i,this}endFill(){(0,e.deprecation)(e.v8_0_0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();let t=this.context.strokeStyle;return(t.width!==P.defaultStrokeStyle.width||t.color!==P.defaultStrokeStyle.color||t.alpha!==P.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,e.deprecation)(e.v8_0_0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",r)}drawEllipse(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,e.deprecation)(e.v8_0_0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",r)}drawPolygon(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,e.deprecation)(e.v8_0_0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",r)}drawRect(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,e.deprecation)(e.v8_0_0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",r)}drawRoundedRect(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,e.deprecation)(e.v8_0_0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",r)}drawStar(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,e.deprecation)(e.v8_0_0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",r)}constructor(t){t instanceof P&&(t={context:t});let{context:e,roundPixels:r,...i}=t||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",e?this._context=e:this._context=this._ownedContext=new P,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=null!=r&&r}}}]);